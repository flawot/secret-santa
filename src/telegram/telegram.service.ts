import { Injectable } from '@nestjs/common';
import { Ctx, Start, Update } from 'nestjs-telegraf';
import { Context } from 'telegraf';

const initial = `–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã "–¢–∞–π–Ω—ã–π –°–∞–Ω—Ç–∞"

üéÑ –¶–µ–ª—å –∏–≥—Ä—ã:
–ü–æ–¥–∞—Ä–∏—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π,–Ω–æ –ø—Ä–∏—è—Ç–Ω—ã–π –∏ –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –æ–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫—É, —Å–ª–µ–¥—É—è –ø—Ä–∏–Ω—Ü–∏–ø—É –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–¥–æ–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –ø—Ä–µ–¥–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ –¥–Ω–∏!

üë§ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è. –í—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å", –∏ –±–æ—Ç –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤–∞—Å –∫–∞–∫ –∏–≥—Ä–æ–∫–∞.
2. –ñ–µ—Ä–µ–±—å–µ–≤–∫–∞. –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —Ä–∞–∑–¥–∞–µ—Ç –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º "–ø–æ–¥–æ–ø–µ—á–Ω—ã—Ö" ‚Äî —Ç–µ—Ö, –∫–æ–º—É –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –¢–∞–π–Ω—ã–º –°–∞–Ω—Ç–æ–π.
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è. –ë–æ—Ç –≤ –ª–∏—á–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –Ω–∞–ø–∏—à–µ—Ç –≤–∞–º –∏–º—è –≤–∞—à–µ–≥–æ "–ø–æ–¥–æ–ø–µ—á–Ω–æ–≥–æ" –∏, –µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–ª, –µ–≥–æ –ø–æ–∂–µ–ª–∞–Ω–∏—è.
4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–∞. –í—ã –ø–æ–∫—É–ø–∞–µ—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç–µ –ø–æ–¥–∞—Ä–æ–∫, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—è—Å—å –Ω–∞ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã –≤–∞—à–µ–≥–æ "–ø–æ–¥–æ–ø–µ—á–Ω–æ–≥–æ".
5. –í—Ä—É—á–µ–Ω–∏–µ. –í –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–µ–Ω—å –≤—ã –∞–Ω–æ–Ω–∏–º–Ω–æ –≤—Ä—É—á–∞–µ—Ç–µ –ø–æ–¥–∞—Ä–æ–∫ —Å–≤–æ–µ–º—É "–ø–æ–¥–æ–ø–µ—á–Ω–æ–º—É".
6. –†–∞–∑–≥–∞–¥–∫–∞. –í –∫–æ–Ω—Ü–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –º–æ–∂–Ω–æ —É—Å—Ç—Ä–æ–∏—Ç—å —É–≥–∞–¥—ã–≤–∞–Ω–∏–µ, –∫—Ç–æ –∂–µ –±—ã–ª —á—å–∏–º –¢–∞–π–Ω—ã–º –°–∞–Ω—Ç–æ–π!

---

üìù –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

¬∑ –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å. –í—ã —É–∑–Ω–∞–µ—Ç–µ –∏–º—è —Å–≤–æ–µ–≥–æ "–ø–æ–¥–æ–ø–µ—á–Ω–æ–≥–æ", –Ω–æ –≤–∞—à "–ø–æ–¥–æ–ø–µ—á–Ω—ã–π" –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –µ–≥–æ –°–∞–Ω—Ç–∞ ‚Äî —ç—Ç–æ –≤—ã. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏–Ω—Ç—Ä–∏–≥—É –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ!
¬∑ –í–∑–∞–∏–º–Ω–æ—Å—Ç—å. –£—á–∞—Å—Ç–∏–µ –≤ –∏–≥—Ä–µ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø–æ–¥–∞—Ä–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫. –ï—Å–ª–∏ –≤—ã –∑–∞–ø–∏—Å–∞–ª–∏—Å—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–≤–µ–¥–∏—Ç–µ –¥–µ–ª–æ –¥–æ –∫–æ–Ω—Ü–∞, —á—Ç–æ–±—ã –Ω–∏–∫–æ–≥–æ –Ω–µ –æ—Å—Ç–∞–≤–∏—Ç—å –±–µ–∑ –ø–æ–¥–∞—Ä–∫–∞.
¬∑ –õ–∏–º–∏—Ç –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏. –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–∞—Ä–∫–∞ –æ–≥–æ–≤–∞—Ä–∏–≤–∞–µ—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç 500 –¥–æ 1000 —Ä—É–±–ª–µ–π). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—Å–µ–º –±—ã–ª–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –≤–Ω–∏–º–∞–Ω–∏–µ, –∞ –Ω–µ —Ü–µ–Ω–∞.
¬∑ –ü–æ–∂–µ–ª–∞–Ω–∏—è ‚Äî –Ω–µ –ø—Ä–∏–∫–∞–∑. –ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å —É—á–µ—Å—Ç—å –ø–æ–∂–µ–ª–∞–Ω–∏—è –≤–∞—à–µ–≥–æ "–ø–æ–¥–æ–ø–µ—á–Ω–æ–≥–æ", –Ω–æ –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è ‚Äî –ø—Ä–æ—è–≤–∏—Ç–µ —Ñ–∞–Ω—Ç–∞–∑–∏—é! –õ—É—á—à–∏–π –ø–æ–¥–∞—Ä–æ–∫ ‚Äî —Ç–æ—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤–ª–æ–∂–∏–ª–∏ –¥—É—à—É.
¬∑ –ù–∏–∫–∞–∫–∏—Ö –æ–±–∏–¥! –ü–æ–¥–∞—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–∞–∫–∏–º, –∫–∞–∫ –≤—ã –º–µ—á—Ç–∞–ª–∏. –¶–µ–Ω–∏—Ç–µ —Å–∞–º —Ñ–∞–∫—Ç –≤–Ω–∏–º–∞–Ω–∏—è –∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ.

---

üéÅ –ß—Ç–æ –ø–∏—Å–∞—Ç—å –≤ –ø–æ–∂–µ–ª–∞–Ω–∏—è—Ö –∫ –ø–æ–¥–∞—Ä–∫—É (–¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤):

–ß—Ç–æ–±—ã –≤–∞—à –°–∞–Ω—Ç–∞ –Ω–µ –ª–æ–º–∞–ª –≥–æ–ª–æ–≤—É, —É–∫–∞–∂–∏—Ç–µ —á—Ç–æ-—Ç–æ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –ø—Ä–æ—è–≤–∏—Ç–µ —Ñ–∞–Ω—Ç–∞–∑–∏—é:

¬∑ –ò–Ω—Ç–µ—Ä–µ—Å—ã: –∫–Ω–∏–≥–∏, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã, –∫–æ—Å–º–µ—Ç–∏–∫–∞, –≥–∞–¥–∂–µ—Ç—ã, —Å–ø–æ—Ä—Ç, —Ö–µ–Ω–¥–º–µ–π–¥.
¬∑ –ß—Ç–æ –≤–∞–º –ù–ï –Ω—Ä–∞–≤–∏—Ç—Å—è: "–ù–µ –¥–∞—Ä—é —Å–ª–∞–¥–∫–æ–µ", "–ù–µ –ø–µ—Ä–µ–Ω–æ—à—É –∑–∞–ø–∞—Ö –∫–æ—Ä–∏—Ü—ã".
¬∑ –†–∞–∑–º–µ—Ä –æ–¥–µ–∂–¥—ã/—Ü–≤–µ—Ç: –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —á—Ç–æ-—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ.
¬∑ –ú–æ–∂–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫—É: "–•–æ—á—É –∫—Ä–∞—Å–∏–≤—É—é –∫—Ä—É–∂–∫—É –¥–ª—è —á–∞—è", "–ú–µ—á—Ç–∞—é –æ –Ω–∞–±–æ—Ä–µ –≥–µ–ª–µ–≤—ã—Ö —Ä—É—á–µ–∫".
¬∑ –ò–ª–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é: "–õ—é–±–ª—é –≤—Å–µ —Ç–µ–ø–ª–æ–µ –∏ –º—è–≥–∫–æ–µ", "–•–æ—á—É —Å—é—Ä–ø—Ä–∏–∑, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ"`;

@Update()
@Injectable()
export class TelegramService {
  @Start()
  async Start(@Ctx() ctx: Context) {
    await ctx.reply(initial);
  }
}
